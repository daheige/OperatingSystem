## 一段有关虚拟化的对话

教授：好了，我们来到了操作系统的三部分中的第一部分：虚拟化。

学生：但是什么是虚拟化？我的诺贝尔教授大人。

教授：想象我们有一个桃子。

学生：桃子？

教授：是的，一个桃子。让我们称其为物理桃子。但是我们有很多食客想要吃这个桃子。我们想要呈现给每位食客的是他们自己的桃子，这样他们才会快乐。我们把给食客的桃子成为虚拟桃子。我们以某种方式从一个物理桃子中创建了许多虚拟桃子。重要的是，在这种错觉中，每一个食客看起来都有一个物理桃子，但是事实上他们没有。

学生：所以你正在分享桃子，但是你甚至不知道你在分享它？

教授：对极了！

学生：但是我们只有一个桃子啊。

教授：对啊，然后呢？

学生：如果我要和别人分享桃子，我想我会注意到的。

教授：对的，说到点儿上来了！但是这就是很多食客的问题。在大多数情况下，他们正在睡觉或者在干其他事情，因此你可以将他的桃子抢走并暂时交给其他人。我们就创造了有许多虚拟桃子的错觉，每个人一个桃子！

学生：...听起来咋这么奇怪。你是在讨论计算机没错吧？

教授：啊，年轻人，你希望有一个更具体的例子？好，让我们用最基本的资源CPU来举例。假设系统中有一个物理CPU(尽管现在计算机通常有2~4个或更多)。虚拟化的作用就是将单个CPU用作系统上运行的应用程序的多个虚拟CPU。因此，尽管每个应用程序都认为有自己的单独CPU可用，但实际上只有一个CPU。操作系统创建了一个美丽的错觉：它已经虚拟化了CPU。

学生：哇！听起来像魔术一样！快告诉我，这是怎么运作的？

教授：来了来了，年轻人，听起来你已经准备好了！

学生：对对对，嗯...我有点害怕你之后又开始讨论桃子。

教授：不怕，我甚至不喜欢吃桃子。我们开始吧...